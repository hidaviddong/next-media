var ke=e=>{throw TypeError(e)};var be=(e,t,r)=>t.has(e)||ke("Cannot "+r);var i=(e,t,r)=>(be(e,t,"read from private field"),r?r.call(e):t.get(e)),S=(e,t,r)=>t.has(e)?ke("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),x=(e,t,r,s)=>(be(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),R=(e,t,r)=>(be(e,t,"access private method"),r);import{S as Mt,p as He,r as j,s as Re,a as re,n as Ce,i as Te,b as $e,t as Pt,f as jt,c as At,d as Be,e as Ye,h as c,j as Lt,u as ie,k as ae,l as ve,m as w,o as l,P as $,q as ze,v as Xe,w as fe,x as Je,R as Nt,y as ce,A as Ft,z as A,B as ue,C as Ze,D as Qt,E as et,F as qt,G as Ut,H as tt,I as kt,J as Ht,K as $t,M as Bt,N as Vt,O as Kt,Q as Gt,T as Wt,U as Yt}from"./index-DHLRXgee.js";var O,y,ne,_,B,Y,q,k,oe,z,X,V,K,H,J,g,te,Ee,Se,we,_e,Ie,Oe,De,rt,We,zt=(We=class extends Mt{constructor(t,r){super();S(this,g);S(this,O);S(this,y);S(this,ne);S(this,_);S(this,B);S(this,Y);S(this,q);S(this,k);S(this,oe);S(this,z);S(this,X);S(this,V);S(this,K);S(this,H);S(this,J,new Set);this.options=r,x(this,O,t),x(this,k,null),x(this,q,He()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,y).addObserver(this),Ve(i(this,y),this.options)?R(this,g,te).call(this):this.updateResult(),R(this,g,_e).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Me(i(this,y),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Me(i(this,y),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,R(this,g,Ie).call(this),R(this,g,Oe).call(this),i(this,y).removeObserver(this)}setOptions(t){const r=this.options,s=i(this,y);if(this.options=i(this,O).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof j(this.options.enabled,i(this,y))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");R(this,g,De).call(this),i(this,y).setOptions(this.options),r._defaulted&&!Re(this.options,r)&&i(this,O).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,y),observer:this});const n=this.hasListeners();n&&Ke(i(this,y),s,this.options,r)&&R(this,g,te).call(this),this.updateResult(),n&&(i(this,y)!==s||j(this.options.enabled,i(this,y))!==j(r.enabled,i(this,y))||re(this.options.staleTime,i(this,y))!==re(r.staleTime,i(this,y)))&&R(this,g,Ee).call(this);const o=R(this,g,Se).call(this);n&&(i(this,y)!==s||j(this.options.enabled,i(this,y))!==j(r.enabled,i(this,y))||o!==i(this,H))&&R(this,g,we).call(this,o)}getOptimisticResult(t){const r=i(this,O).getQueryCache().build(i(this,O),t),s=this.createResult(r,t);return Jt(this,s)&&(x(this,_,s),x(this,Y,this.options),x(this,B,i(this,y).state)),s}getCurrentResult(){return i(this,_)}trackResult(t,r){return new Proxy(t,{get:(s,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&!this.options.experimental_prefetchInRender&&i(this,q).status==="pending"&&i(this,q).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,n))})}trackProp(t){i(this,J).add(t)}getCurrentQuery(){return i(this,y)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=i(this,O).defaultQueryOptions(t),s=i(this,O).getQueryCache().build(i(this,O),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return R(this,g,te).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,_)))}createResult(t,r){var Ue;const s=i(this,y),n=this.options,o=i(this,_),a=i(this,B),f=i(this,Y),p=t!==s?t.state:i(this,ne),{state:v}=t;let d={...v},b=!1,h;if(r._optimisticResults){const M=this.hasListeners(),de=!M&&Ve(t,r),W=M&&Ke(t,s,r,n);(de||W)&&(d={...d,...At(v.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:C,errorUpdatedAt:E,status:m}=d;h=d.data;let D=!1;if(r.placeholderData!==void 0&&h===void 0&&m==="pending"){let M;o!=null&&o.isPlaceholderData&&r.placeholderData===(f==null?void 0:f.placeholderData)?(M=o.data,D=!0):M=typeof r.placeholderData=="function"?r.placeholderData((Ue=i(this,X))==null?void 0:Ue.state.data,i(this,X)):r.placeholderData,M!==void 0&&(m="success",h=Be(o==null?void 0:o.data,M,r),b=!0)}if(r.select&&h!==void 0&&!D)if(o&&h===(a==null?void 0:a.data)&&r.select===i(this,oe))h=i(this,z);else try{x(this,oe,r.select),h=r.select(h),h=Be(o==null?void 0:o.data,h,r),x(this,z,h),x(this,k,null)}catch(M){x(this,k,M)}i(this,k)&&(C=i(this,k),h=i(this,z),E=Date.now(),m="error");const I=d.fetchStatus==="fetching",F=m==="pending",Q=m==="error",U=F&&I,ee=h!==void 0,N={status:m,fetchStatus:d.fetchStatus,isPending:F,isSuccess:m==="success",isError:Q,isInitialLoading:U,isLoading:U,data:h,dataUpdatedAt:d.dataUpdatedAt,error:C,errorUpdatedAt:E,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>p.dataUpdateCount||d.errorUpdateCount>p.errorUpdateCount,isFetching:I,isRefetching:I&&!F,isLoadingError:Q&&!ee,isPaused:d.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:Q&&ee,isStale:Ae(t,r),refetch:this.refetch,promise:i(this,q),isEnabled:j(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=he=>{N.status==="error"?he.reject(N.error):N.data!==void 0&&he.resolve(N.data)},de=()=>{const he=x(this,q,N.promise=He());M(he)},W=i(this,q);switch(W.status){case"pending":t.queryHash===s.queryHash&&M(W);break;case"fulfilled":(N.status==="error"||N.data!==W.value)&&de();break;case"rejected":(N.status!=="error"||N.error!==W.reason)&&de();break}}return N}updateResult(){const t=i(this,_),r=this.createResult(i(this,y),this.options);if(x(this,B,i(this,y).state),x(this,Y,this.options),i(this,B).data!==void 0&&x(this,X,i(this,y)),Re(r,t))return;x(this,_,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,o=typeof n=="function"?n():n;if(o==="all"||!o&&!i(this,J).size)return!0;const a=new Set(o??i(this,J));return this.options.throwOnError&&a.add("error"),Object.keys(i(this,_)).some(f=>{const u=f;return i(this,_)[u]!==t[u]&&a.has(u)})};R(this,g,rt).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&R(this,g,_e).call(this)}},O=new WeakMap,y=new WeakMap,ne=new WeakMap,_=new WeakMap,B=new WeakMap,Y=new WeakMap,q=new WeakMap,k=new WeakMap,oe=new WeakMap,z=new WeakMap,X=new WeakMap,V=new WeakMap,K=new WeakMap,H=new WeakMap,J=new WeakMap,g=new WeakSet,te=function(t){R(this,g,De).call(this);let r=i(this,y).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ce)),r},Ee=function(){R(this,g,Ie).call(this);const t=re(this.options.staleTime,i(this,y));if(Te||i(this,_).isStale||!$e(t))return;const s=Pt(i(this,_).dataUpdatedAt,t)+1;x(this,V,setTimeout(()=>{i(this,_).isStale||this.updateResult()},s))},Se=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,y)):this.options.refetchInterval)??!1},we=function(t){R(this,g,Oe).call(this),x(this,H,t),!(Te||j(this.options.enabled,i(this,y))===!1||!$e(i(this,H))||i(this,H)===0)&&x(this,K,setInterval(()=>{(this.options.refetchIntervalInBackground||jt.isFocused())&&R(this,g,te).call(this)},i(this,H)))},_e=function(){R(this,g,Ee).call(this),R(this,g,we).call(this,R(this,g,Se).call(this))},Ie=function(){i(this,V)&&(clearTimeout(i(this,V)),x(this,V,void 0))},Oe=function(){i(this,K)&&(clearInterval(i(this,K)),x(this,K,void 0))},De=function(){const t=i(this,O).getQueryCache().build(i(this,O),this.options);if(t===i(this,y))return;const r=i(this,y);x(this,y,t),x(this,ne,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},rt=function(t){Ye.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(i(this,_))}),i(this,O).getQueryCache().notify({query:i(this,y),type:"observerResultsUpdated"})})},We);function Xt(e,t){return j(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ve(e,t){return Xt(e,t)||e.state.data!==void 0&&Me(e,t,t.refetchOnMount)}function Me(e,t,r){if(j(t.enabled,e)!==!1&&re(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Ae(e,t)}return!1}function Ke(e,t,r,s){return(e!==t||j(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ae(e,r)}function Ae(e,t){return j(t.enabled,e)!==!1&&e.isStaleByTime(re(t.staleTime,e))}function Jt(e,t){return!Re(e.getCurrentResult(),t)}var st=c.createContext(!1),Zt=()=>c.useContext(st);st.Provider;function er(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tr=c.createContext(er()),rr=()=>c.useContext(tr),sr=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},nr=e=>{c.useEffect(()=>{e.clearReset()},[e])},or=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(n&&e.data===void 0||Lt(r,[e.error,s])),ir=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>t(r(...s)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ar=(e,t)=>e.isLoading&&e.isFetching&&!t,cr=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ge=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ur(e,t,r){var d,b,h,C,E;const s=Zt(),n=rr(),o=ie(),a=o.defaultQueryOptions(e);(b=(d=o.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||b.call(d,a),a._optimisticResults=s?"isRestoring":"optimistic",ir(a),sr(a,n),nr(n);const f=!o.getQueryCache().get(a.queryHash),[u]=c.useState(()=>new t(o,a)),p=u.getOptimisticResult(a),v=!s&&e.subscribed!==!1;if(c.useSyncExternalStore(c.useCallback(m=>{const D=v?u.subscribe(Ye.batchCalls(m)):Ce;return u.updateResult(),D},[u,v]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),c.useEffect(()=>{u.setOptions(a)},[a,u]),cr(a,p))throw Ge(a,u,n);if(or({result:p,errorResetBoundary:n,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw p.error;if((C=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||C.call(h,a,p),a.experimental_prefetchInRender&&!Te&&ar(p,s)){const m=f?Ge(a,u,n):(E=o.getQueryCache().get(a.queryHash))==null?void 0:E.promise;m==null||m.catch(Ce).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?p:u.trackResult(p)}function P(e,t){return ur(e,zt)}const T={MOVIE_LISTS:["movieLists"],QUEUE_STATUS:["queueStatus"],MOVIE_STATUS:["movieStatus"],MOVIE_INFO:["movieInfo"],MOVIE_SUBTITLE_LISTS:["movieSubtitleLists"],USER_LIBRARY:["userLibrary"],USER_LIBRARY_CAPACITY:["userLibraryCapacity"],MOVIE_REMUX:["movieRemux"],MOVIE_REMUX_PROGRESS:["movieRemuxProgress"],MOVIE_HLS:["movieHls"],MOVIE_HLS_PROGRESS:["movieHlsProgress"],MOVIE_BY_TMDB_ID:["movieByTmdbId"]};function zr(){const e=ie();return ae({mutationFn:async t=>{await w.api.movie.queue.$post({json:{movies:t.movies,maxCacheBytes:t.maxCacheBytes}})},onSuccess:()=>{e.invalidateQueries({queryKey:T.QUEUE_STATUS})},onError:t=>{ve.error(t.message)}})}function Xr(){const[e,t]=c.useState([]),r=ae({mutationFn:async s=>(await w.api.scan.$post({json:s})).json(),onSuccess:s=>{t(s.data)},onError:s=>{ve.error(s.message)}});return{scanMovies:e,setScanMovies:t,...r}}function Jr(){return{movieListsQuery:P({queryKey:[...T.MOVIE_LISTS],queryFn:async()=>(await w.api.movie.lists.$get()).json()})}}function Zr(){var r;const e=ie(),t=P({queryKey:[...T.QUEUE_STATUS],queryFn:async()=>(await w.api.movie.queueStatus.$get()).json(),refetchInterval:s=>{var n;return((n=s.state.data)==null?void 0:n.stats.active)===0?!1:2e3}});return((r=t.data)==null?void 0:r.stats.active)===0&&(e.invalidateQueries({queryKey:[...T.MOVIE_LISTS]}),e.invalidateQueries({queryKey:[...T.USER_LIBRARY]}),e.invalidateQueries({queryKey:[...T.USER_LIBRARY_CAPACITY]})),{queueStatusQuery:t}}function es(e){return{movieStatusQuery:P({queryKey:[...T.MOVIE_STATUS,e],queryFn:async()=>(await w.api.movie.movieStatus.$get({query:{movieId:e}})).json()})}}function ts(e){return{movieInfoQuery:P({queryKey:[...T.MOVIE_INFO,e],queryFn:async()=>(await w.api.movie.movieInfo.$get({query:{moviePath:e}})).json()})}}function rs(e){return{movieSubtitleListsQuery:P({queryKey:[...T.MOVIE_SUBTITLE_LISTS,e],queryFn:async()=>(await w.api.movie.subtitleLists.$get({query:{moviePath:e}})).json()})}}function ss(){return{userLibraryQuery:P({queryKey:[...T.USER_LIBRARY],queryFn:async()=>(await w.api.user.library.$get()).json()})}}function ns(e){return{userLibraryCapacityQuery:P({queryKey:[...T.USER_LIBRARY_CAPACITY],queryFn:async()=>(await w.api.scan.capacity.$get({query:{libraryPath:e}})).json(),enabled:!!e})}}function os(e,t,r,s){return{movieRemuxQuery:P({queryKey:[...T.MOVIE_REMUX,e],queryFn:async()=>(await w.api.movie.remux.$get({query:{moviePath:e,libraryId:t,movieId:r}})).json(),enabled:s==="remux"})}}function is(e,t){return{movieRemuxProgressQuery:P({queryKey:[...T.MOVIE_REMUX_PROGRESS,e,t],queryFn:async()=>{const s=await w.api.movie.remuxProgress.$get({query:{jobId:e,moviePath:t}});if(!s.ok){const n=await s.text();ve.error(n)}return s.json()},refetchInterval:s=>{var n;return((n=s.state.data)==null?void 0:n.progress)===100?!1:1e3},enabled:!!e})}}function as(e,t,r,s){return{movieHlsQuery:P({queryKey:[...T.MOVIE_HLS,e],queryFn:async()=>{const o=await w.api.movie.hls.$get({query:{moviePath:e,libraryId:t,movieId:r}});if(!o.ok){const a=await o.text();ve.error(a)}return o.json()},enabled:s==="hls"})}}function cs(e,t){return{movieHlsProgressQuery:P({queryKey:[...T.MOVIE_HLS_PROGRESS,e],queryFn:async()=>(await w.api.movie.hlsProgress.$get({query:{jobId:e,moviePath:t}})).json(),refetchInterval:s=>{var n;return((n=s.state.data)==null?void 0:n.progress)===100?!1:1e3},enabled:!!e})}}function us(){const e=ie();return{moviePlayHistoryMutation:ae({mutationFn:async r=>(await w.api.movie.playHistory.$post({json:r})).json(),onSettled:()=>{e.invalidateQueries({queryKey:T.MOVIE_STATUS})}})}}function ls(){return{updateCacheItemMutation:ae({mutationFn:async t=>(await w.api.movie.updateCacheItem.$post({json:t})).json()})}}function ds(){const e=ie();return{movieWatchedMutation:ae({mutationFn:async r=>(await w.api.movie.watched.$post({json:r})).json(),onSettled:()=>{e.invalidateQueries({queryKey:T.MOVIE_LISTS})}})}}function hs(e){return{movieByTmdbIdQuery:P({queryKey:[...T.MOVIE_BY_TMDB_ID,e],queryFn:async()=>(await w.api.movie.byTmdbId.$get({query:{tmdbId:e}})).json(),enabled:!!e})}}var lr=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dr="VisuallyHidden",nt=c.forwardRef((e,t)=>l.jsx($.span,{...e,ref:t,style:{...lr,...e.style}}));nt.displayName=dr;var hr=nt,[ye,fs]=ze("Tooltip",[Xe]),ge=Xe(),ot="TooltipProvider",fr=700,Pe="tooltip.open",[pr,Le]=ye(ot),it=e=>{const{__scopeTooltip:t,delayDuration:r=fr,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:o}=e,a=c.useRef(!0),f=c.useRef(!1),u=c.useRef(0);return c.useEffect(()=>{const p=u.current;return()=>window.clearTimeout(p)},[]),l.jsx(pr,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:c.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:f,onPointerInTransitChange:c.useCallback(p=>{f.current=p},[]),disableHoverableContent:n,children:o})};it.displayName=ot;var se="Tooltip",[vr,le]=ye(se),at=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:n,onOpenChange:o,disableHoverableContent:a,delayDuration:f}=e,u=Le(se,e.__scopeTooltip),p=ge(t),[v,d]=c.useState(null),b=fe(),h=c.useRef(0),C=a??u.disableHoverableContent,E=f??u.delayDuration,m=c.useRef(!1),[D,I]=Je({prop:s,defaultProp:n??!1,onChange:xe=>{xe?(u.onOpen(),document.dispatchEvent(new CustomEvent(Pe))):u.onClose(),o==null||o(xe)},caller:se}),F=c.useMemo(()=>D?m.current?"delayed-open":"instant-open":"closed",[D]),Q=c.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,I(!0)},[I]),U=c.useCallback(()=>{window.clearTimeout(h.current),h.current=0,I(!1)},[I]),ee=c.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,I(!0),h.current=0},E)},[E,I]);return c.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),l.jsx(Nt,{...p,children:l.jsx(vr,{scope:t,contentId:b,open:D,stateAttribute:F,trigger:v,onTriggerChange:d,onTriggerEnter:c.useCallback(()=>{u.isOpenDelayedRef.current?ee():Q()},[u.isOpenDelayedRef,ee,Q]),onTriggerLeave:c.useCallback(()=>{C?U():(window.clearTimeout(h.current),h.current=0)},[U,C]),onOpen:Q,onClose:U,disableHoverableContent:C,children:r})})};at.displayName=se;var je="TooltipTrigger",ct=c.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,n=le(je,r),o=Le(je,r),a=ge(r),f=c.useRef(null),u=ce(t,f,n.onTriggerChange),p=c.useRef(!1),v=c.useRef(!1),d=c.useCallback(()=>p.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),l.jsx(Ft,{asChild:!0,...a,children:l.jsx($.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:u,onPointerMove:A(e.onPointerMove,b=>{b.pointerType!=="touch"&&!v.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),v.current=!0)}),onPointerLeave:A(e.onPointerLeave,()=>{n.onTriggerLeave(),v.current=!1}),onPointerDown:A(e.onPointerDown,()=>{n.open&&n.onClose(),p.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:A(e.onFocus,()=>{p.current||n.onOpen()}),onBlur:A(e.onBlur,n.onClose),onClick:A(e.onClick,n.onClose)})})});ct.displayName=je;var Ne="TooltipPortal",[yr,gr]=ye(Ne,{forceMount:void 0}),ut=e=>{const{__scopeTooltip:t,forceMount:r,children:s,container:n}=e,o=le(Ne,t);return l.jsx(yr,{scope:t,forceMount:r,children:l.jsx(ue,{present:r||o.open,children:l.jsx(Ze,{asChild:!0,container:n,children:s})})})};ut.displayName=Ne;var Z="TooltipContent",lt=c.forwardRef((e,t)=>{const r=gr(Z,e.__scopeTooltip),{forceMount:s=r.forceMount,side:n="top",...o}=e,a=le(Z,e.__scopeTooltip);return l.jsx(ue,{present:s||a.open,children:a.disableHoverableContent?l.jsx(dt,{side:n,...o,ref:t}):l.jsx(mr,{side:n,...o,ref:t})})}),mr=c.forwardRef((e,t)=>{const r=le(Z,e.__scopeTooltip),s=Le(Z,e.__scopeTooltip),n=c.useRef(null),o=ce(t,n),[a,f]=c.useState(null),{trigger:u,onClose:p}=r,v=n.current,{onPointerInTransitChange:d}=s,b=c.useCallback(()=>{f(null),d(!1)},[d]),h=c.useCallback((C,E)=>{const m=C.currentTarget,D={x:C.clientX,y:C.clientY},I=Cr(D,m.getBoundingClientRect()),F=Tr(D,I),Q=Er(E.getBoundingClientRect()),U=wr([...F,...Q]);f(U),d(!0)},[d]);return c.useEffect(()=>()=>b(),[b]),c.useEffect(()=>{if(u&&v){const C=m=>h(m,v),E=m=>h(m,u);return u.addEventListener("pointerleave",C),v.addEventListener("pointerleave",E),()=>{u.removeEventListener("pointerleave",C),v.removeEventListener("pointerleave",E)}}},[u,v,h,b]),c.useEffect(()=>{if(a){const C=E=>{const m=E.target,D={x:E.clientX,y:E.clientY},I=(u==null?void 0:u.contains(m))||(v==null?void 0:v.contains(m)),F=!Sr(D,a);I?b():F&&(b(),p())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[u,v,a,p,b]),l.jsx(dt,{...e,ref:o})}),[xr,br]=ye(se,{isInside:!1}),Rr=Ut("TooltipContent"),dt=c.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:a,...f}=e,u=le(Z,r),p=ge(r),{onClose:v}=u;return c.useEffect(()=>(document.addEventListener(Pe,v),()=>document.removeEventListener(Pe,v)),[v]),c.useEffect(()=>{if(u.trigger){const d=b=>{const h=b.target;h!=null&&h.contains(u.trigger)&&v()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[u.trigger,v]),l.jsx(et,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:v,children:l.jsxs(qt,{"data-state":u.stateAttribute,...p,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Rr,{children:s}),l.jsx(xr,{scope:r,isInside:!0,children:l.jsx(hr,{id:u.contentId,role:"tooltip",children:n||s})})]})})});lt.displayName=Z;var ht="TooltipArrow",ft=c.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,n=ge(r);return br(ht,r).isInside?null:l.jsx(Qt,{...n,...s,ref:t})});ft.displayName=ht;function Cr(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,s,n,o)){case o:return"left";case n:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Tr(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function Er(e){const{top:t,right:r,bottom:s,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:s},{x:n,y:s}]}function Sr(e,t){const{x:r,y:s}=e;let n=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const f=t[o],u=t[a],p=f.x,v=f.y,d=u.x,b=u.y;v>s!=b>s&&r<(d-p)*(s-v)/(b-v)+p&&(n=!n)}return n}function wr(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),_r(t)}function _r(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const n=e[s];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(n.y-a.y)>=(o.y-a.y)*(n.x-a.x))t.pop();else break}t.push(n)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const n=e[s];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(n.y-a.y)>=(o.y-a.y)*(n.x-a.x))r.pop();else break}r.push(n)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Ir=it,Or=at,Dr=ct,Mr=ut,Pr=lt,jr=ft;function Ar({delayDuration:e=0,...t}){return l.jsx(Ir,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function ps({...e}){return l.jsx(Ar,{children:l.jsx(Or,{"data-slot":"tooltip",...e})})}function vs({...e}){return l.jsx(Dr,{"data-slot":"tooltip-trigger",...e})}function ys({className:e,sideOffset:t=0,children:r,...s}){return l.jsx(Mr,{children:l.jsxs(Pr,{"data-slot":"tooltip-content",sideOffset:t,className:tt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...s,children:[r,l.jsx(jr,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gs=kt("x",Lr),Nr=$t("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ms({className:e,variant:t,asChild:r=!1,...s}){const n=r?Ht:"span";return l.jsx(n,{"data-slot":"badge",className:tt(Nr({variant:t}),e),...s})}var me="Dialog",[pt,xs]=ze(me),[Fr,L]=pt(me),vt=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:n,onOpenChange:o,modal:a=!0}=e,f=c.useRef(null),u=c.useRef(null),[p,v]=Je({prop:s,defaultProp:n??!1,onChange:o,caller:me});return l.jsx(Fr,{scope:t,triggerRef:f,contentRef:u,contentId:fe(),titleId:fe(),descriptionId:fe(),open:p,onOpenChange:v,onOpenToggle:c.useCallback(()=>v(d=>!d),[v]),modal:a,children:r})};vt.displayName=me;var yt="DialogTrigger",gt=c.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=L(yt,r),o=ce(t,n.triggerRef);return l.jsx($.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":qe(n.open),...s,ref:o,onClick:A(e.onClick,n.onOpenToggle)})});gt.displayName=yt;var Fe="DialogPortal",[Qr,mt]=pt(Fe,{forceMount:void 0}),xt=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:n}=e,o=L(Fe,t);return l.jsx(Qr,{scope:t,forceMount:r,children:c.Children.map(s,a=>l.jsx(ue,{present:r||o.open,children:l.jsx(Ze,{asChild:!0,container:n,children:a})}))})};xt.displayName=Fe;var pe="DialogOverlay",bt=c.forwardRef((e,t)=>{const r=mt(pe,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,o=L(pe,e.__scopeDialog);return o.modal?l.jsx(ue,{present:s||o.open,children:l.jsx(Ur,{...n,ref:t})}):null});bt.displayName=pe;var qr=Kt("DialogOverlay.RemoveScroll"),Ur=c.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=L(pe,r);return l.jsx(Vt,{as:qr,allowPinchZoom:!0,shards:[n.contentRef],children:l.jsx($.div,{"data-state":qe(n.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),G="DialogContent",Rt=c.forwardRef((e,t)=>{const r=mt(G,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,o=L(G,e.__scopeDialog);return l.jsx(ue,{present:s||o.open,children:o.modal?l.jsx(kr,{...n,ref:t}):l.jsx(Hr,{...n,ref:t})})});Rt.displayName=G;var kr=c.forwardRef((e,t)=>{const r=L(G,e.__scopeDialog),s=c.useRef(null),n=ce(t,r.contentRef,s);return c.useEffect(()=>{const o=s.current;if(o)return Bt(o)},[]),l.jsx(Ct,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:A(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:A(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,f=a.button===0&&a.ctrlKey===!0;(a.button===2||f)&&o.preventDefault()}),onFocusOutside:A(e.onFocusOutside,o=>o.preventDefault())})}),Hr=c.forwardRef((e,t)=>{const r=L(G,e.__scopeDialog),s=c.useRef(!1),n=c.useRef(!1);return l.jsx(Ct,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,f;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(s.current||(f=r.triggerRef.current)==null||f.focus(),o.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:o=>{var u,p;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const a=o.target;((p=r.triggerRef.current)==null?void 0:p.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),Ct=c.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:o,...a}=e,f=L(G,r),u=c.useRef(null),p=ce(t,u);return Gt(),l.jsxs(l.Fragment,{children:[l.jsx(Wt,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:o,children:l.jsx(et,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":qe(f.open),...a,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx($r,{titleId:f.titleId}),l.jsx(Vr,{contentRef:u,descriptionId:f.descriptionId})]})]})}),Qe="DialogTitle",Tt=c.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=L(Qe,r);return l.jsx($.h2,{id:n.titleId,...s,ref:t})});Tt.displayName=Qe;var Et="DialogDescription",St=c.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=L(Et,r);return l.jsx($.p,{id:n.descriptionId,...s,ref:t})});St.displayName=Et;var wt="DialogClose",_t=c.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=L(wt,r);return l.jsx($.button,{type:"button",...s,ref:t,onClick:A(e.onClick,()=>n.onOpenChange(!1))})});_t.displayName=wt;function qe(e){return e?"open":"closed"}var It="DialogTitleWarning",[bs,Ot]=Yt(It,{contentName:G,titleName:Qe,docsSlug:"dialog"}),$r=({titleId:e})=>{const t=Ot(It),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Br="DialogDescriptionWarning",Vr=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ot(Br).contentName}}.`;return c.useEffect(()=>{var o;const n=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Rs=vt,Cs=gt,Ts=xt,Es=bt,Ss=Rt,ws=Tt,_s=St,Is=_t,Kr="AspectRatio",Dt=c.forwardRef((e,t)=>{const{ratio:r=1/1,style:s,...n}=e;return l.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:l.jsx($.div,{...n,ref:t,style:{...s,position:"absolute",top:0,right:0,bottom:0,left:0}})})});Dt.displayName=Kr;var Gr=Dt;function Os({...e}){return l.jsx(Gr,{"data-slot":"aspect-ratio",...e})}export{Os as A,ms as B,Ss as C,_s as D,Es as O,Ts as P,Rs as R,ps as T,gs as X,ns as a,vs as b,ys as c,Xr as d,zr as e,Zr as f,ws as g,Is as h,Jr as i,ds as j,Cs as k,ts as l,Ar as m,rs as n,os as o,is as p,as as q,cs as r,us as s,hs as t,ss as u,ls as v,es as w};
